<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Change_Owner</fullName>
    <availability>online</availability>
    <displayType>massActionButton</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Change Owner</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <requireRowSelection>true</requireRowSelection>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)}

try{
    var changeRequestToUpdate = sforce.SObject(&quot;WorkOrder&quot;);

    changeRequestToUpdate.Id = &quot;{!WorkOrder.Id}&quot;;
    changeRequestToUpdate.OwnerId = &quot;{!$User.Id}&quot;;

    var result = sforce.connection.update([changeRequestToUpdate]);

    if(result[0].success == &quot;true&quot;){
        location.reload();
    }
    else{
        alert(
            &quot;An Error has Occurred. Error: &quot; + 
            result[0].errors.message
        );
    }
}
catch(e){
    alert(
        &quot;An Error has Occurred. Error: &quot; + 
        e
    );
}</url>
</WebLink>
